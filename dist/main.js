(()=>{"use strict";let t=function(){let t=document.querySelector(".projectsWrapper");t.innerHTML="",o.forEach((n=>{let i=document.createElement("div");i.classList.add("project","card","my-2"),i.setAttribute("data-index",""+o.indexOf(n)),i.innerHTML=`\n            <div class="card-header d-flex justify-content-between">\n                <span>${n.name}</span>\n                <button type="button" class="close" aria-label="Close">\n                    <span class="closeProject" data-target="${n.name}" aria-hidden="true">&times;</span>\n                </button>\n            </div>\n            <ul class="list-group list-group-flush" id="${n.name}">\n                <p>No tasks yet! Add one below</p>\n            </ul>\n            <form class="newTaskForm">\n                <div class="form-row">\n                    <div class="form-group mb-2 col-md-6">\n                        <input type="text" readonly class="form-control-plaintext taskName" placeholder="Task Name">\n                    </div>\n                    <div class="form-group mb-2 col-md-3">\n                        <select disabled class="form-control-plaintext prioritySelect">\n                            <option>High Priority</option>\n                            <option selected>Medium Priority</option>\n                            <option>Low Priority</option>\n                        </select>\n                    </div>\n                    <div class="form-group mb-2 col-md-3">\n                        <input type="number" readonly class="form-control-plaintext dueDate" placeholder="Due Date">\n                    </div>\n                </div>\n                <div class="form-row">\n                    <div class="form-group mb-2 col-md-9">\n                        <textarea class="readonly form-control-plaintext description" id="exampleFormControlTextarea1" rows="1" placeholder="Description"></textarea>\n                    </div>\n                    <div class="form-group mb-2 col-md-3">\n                        <button type="submit" class="btn btn-primary mb-2 addTask">Add Task</button>\n                    </div>\n                </div>\n            </form>\n        `,t.appendChild(i),e(n)}))},e=function(t){console.log(t);let e=document.getElementById(t.name);e.innerHTML="",t.taskList.forEach((t=>{let n=document.createElement("li");n.classList.add("list-group-item"),n.setAttribute("priority",t.priority),n.setAttribute("completed",t.completed),n.innerHTML=`\n            <input class="form-check-input m-0 position-static" type="checkbox" value="" id="defaultCheck1">\n            <form>\n                <div class="form-row">\n                    <div class="form-group mb-2 col-md-6">\n                        <input type="text" readonly class="form-control-plaintext taskName" value="${t.title}">\n                    </div>\n                    <div class="form-group mb-2 col-md-3">\n                        <input type="text" readonly class="form-control-plaintext taskName" value="${t.priority}">\n                        <select class="form-control-plaintext prioritySelect hidden">\n                            <option>High Priority</option>\n                            <option selected>Medium Priority</option>\n                            <option>Low Priority</option>\n                        </select>\n                    </div>\n                    <div class="form-group mb-2 col-md-3">\n                        <input type="number" readonly class="form-control-plaintext dueDate" value="${t.dueDate}">\n                    </div>\n                </div>\n                <div class="form-row">\n                    <div class="form-group mb-2 col-md-9">\n                        <textarea class="readonly form-control-plaintext description" id="exampleFormControlTextarea1" rows="1" value="${t.description}"></textarea>\n                    </div>\n                    <div class="form-group mb-2 col-md-3">\n                        <button type="submit" class="btn btn-primary mb-2 editTask">Edit Task</button>\n                        <button type="submit" class="btn btn-primary mb-2 addTask hidden">Add Task</button>\n                    </div>\n                </div>\n            </form>\n        `,e.appendChild(n)}))};function n(t,e,n,o){this.title=t,this.description=e,this.priority=n,this.dueDate=o,this.completed=!1,this.amend=function(t,e,n,o){this.title=t,this.description=e,this.priority=n,this.dueDate=o},this.toggleComplete=function(){this.completed=!this.completed}}let o=JSON.parse(localStorage.getItem("myToDoLists"))||[];function i(e){o.push(new r(e)),localStorage.setItem("myToDoLists",JSON.stringify(o)),t()}function r(t){this.name=t,this.taskList=[]}(function(){let t=document.querySelector("body"),e=document.createElement("div");e.classList.add("container","mt-5");let n=document.createElement("div");n.classList.add("projectsWrapper");let o=document.createElement("h1");o.textContent="Modular To Do List";let i=document.createElement("form");i.classList.add("form-inline"),i.setAttribute("id","newProjectForm"),i.innerHTML='\n        <div class="form-group mb-2 mr-2">\n            <input type="text" class="form-control" placeholder="Enter new list name">\n        </div>\n        <button type="submit" class="btn btn-primary mb-2">Add List</button>\n    ',e.appendChild(o),e.appendChild(n),e.appendChild(i),t.appendChild(e)})(),document.addEventListener("submit",(function(t){"newProjectForm"===t.target.id&&(t.preventDefault(),i(t.target[0].value),t.target[0].value="")})),document.addEventListener("click",(function(e){if(e.target.classList.contains("closeProject")){console.log(e.target.getAttribute("data-target"));let i=e.target.getAttribute("data-target");n=i,o=o.filter((t=>t.name!==n)),localStorage.setItem("myToDoLists",JSON.stringify(o)),t()}var n})),document.addEventListener("submit",(function(t){if(t.target.classList.contains("newTaskForm")){t.preventDefault();let i=t.target.parentNode.getAttribute("data-index");console.log(i),function(t,i,r,s,a){o[t].taskList.push(new n("Task1","test task","High Priority","Today")),localStorage.setItem("myToDoLists",JSON.stringify(o)),e(o[t])}(i)}})),null===localStorage.getItem("myToDoLists")?i("My First List"):t()})();