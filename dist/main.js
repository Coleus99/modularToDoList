(()=>{"use strict";let t=function(){let t=document.querySelector(".projectsWrapper");t.innerHTML="",n.forEach((i=>{let o=document.createElement("div");o.classList.add("project","card","my-2"),o.setAttribute("data-index",""+n.indexOf(i)),o.innerHTML=`\n            <div class="card-header d-flex justify-content-between">\n                <span>${i.name}</span>\n                <button type="button" class="close" aria-label="Close">\n                    <span class="closeProject" data-target="${i.name}" aria-hidden="true">&times;</span>\n                </button>\n            </div>\n            <ul class="list-group list-group-flush" id="${i.name}">\n                <p>No tasks yet! Add one below</p>\n            </ul>\n            <form class="newTaskForm">\n                <div class="form-row">\n                    <div class="form-group mb-2 col-md-6">\n                        <input name="title" type="text" class="form-control taskName" placeholder="Task Name">\n                    </div>\n                    <div class="form-group mb-2 col-md-3">\n                        <select name="priority" class="form-control-plaintext prioritySelect">\n                            <option>High Priority</option>\n                            <option selected>Medium Priority</option>\n                            <option>Low Priority</option>\n                        </select>\n                    </div>\n                    <div class="form-group mb-2 col-md-3">\n                        <input name="dueDate" type="number" class="form-control dueDate" placeholder="Due Date">\n                    </div>\n                </div>\n                <div class="form-row">\n                    <div class="form-group mb-2 col-md-9">\n                        <textarea name="description" class="form-control description" id="exampleFormControlTextarea1" rows="1" placeholder="Description"></textarea>\n                    </div>\n                    <div class="form-group mb-2 col-md-3">\n                        <button type="submit" class="btn btn-primary mb-2 addTask">Add Task</button>\n                    </div>\n                </div>\n            </form>\n        `,t.appendChild(o),e(i)}))},e=function(t){console.log(t);let e=document.getElementById(t.name);e.innerHTML="",t.taskList.forEach((i=>{let o=document.createElement("li");o.classList.add("list-group-item"),o.setAttribute("data-taskIndex",""+t.taskList.indexOf(i)),o.setAttribute("priority",i.priority),o.setAttribute("completed",i.completed),o.innerHTML=`\n            <input class="form-check-input m-0 position-static" type="checkbox" value="" id="defaultCheck1">\n            <form>\n                <div class="form-row">\n                    <div class="form-group mb-2 col-md-6">\n                        <input name="title" type="text" disabled class="form-control-plaintext taskName" value="${i.title}">\n                    </div>\n                    <div class="form-group mb-2 col-md-3">\n                        <select name="priority" disabled class="form-control-plaintext prioritySelect">\n                            <option ${"High Priority"===i.priority?"selected":""}>High Priority</option>\n                            <option ${"Medium Priority"===i.priority?"selected":""}>Medium Priority</option>\n                            <option ${"Low Priority"===i.priority?"selected":""}>Low Priority</option>\n                        </select>\n                    </div>\n                    <div class="form-group mb-2 col-md-3">\n                        <input name="dueDate" type="number" disabled class="form-control-plaintext dueDate" value="${i.dueDate}">\n                    </div>\n                </div>\n                <div class="form-row">\n                    <div class="form-group mb-2 col-md-9">\n                        <textarea  name="description" disabled class="form-control-plaintext description" id="exampleFormControlTextarea1" rows="1">${i.description}</textarea>\n                    </div>\n                    <div class="form-group mb-2 col-md-3">\n                        <button class="btn btn-primary mb-2 editTask" data-projectIndex="${n.indexOf(t)}" data-taskIndex="${t.taskList.indexOf(i)}">Edit Task</button>\n                    </div>\n                </div>\n            </form>\n        `,e.appendChild(o)}))};function i(t,e,i,n){this.title=t,this.description=e,this.priority=i,this.dueDate=n,this.completed=!1,this.amend=function(t,e,i,n){this.title=t,this.description=e,this.priority=i,this.dueDate=n},this.toggleComplete=function(){this.completed=!this.completed}}let n=JSON.parse(localStorage.getItem("myToDoLists"))||[];function o(e){n.push(new a(e)),localStorage.setItem("myToDoLists",JSON.stringify(n)),t()}function a(t){this.name=t,this.taskList=[]}(function(){let t=document.querySelector("body"),e=document.createElement("div");e.classList.add("container","mt-5");let i=document.createElement("div");i.classList.add("projectsWrapper");let n=document.createElement("h1");n.textContent="Modular To Do List";let o=document.createElement("form");o.classList.add("form-inline"),o.setAttribute("id","newProjectForm"),o.innerHTML='\n        <div class="form-group mb-2 mr-2">\n            <input type="text" class="form-control" placeholder="Enter new list name">\n        </div>\n        <button type="submit" class="btn btn-primary mb-2">Add List</button>\n    ',e.appendChild(n),e.appendChild(i),e.appendChild(o),t.appendChild(e)})(),document.addEventListener("submit",(function(t){"newProjectForm"===t.target.id&&(t.preventDefault(),o(t.target[0].value),t.target[0].value="")})),document.addEventListener("click",(function(e){if(e.target.classList.contains("closeProject")){console.log(e.target.getAttribute("data-target"));let o=e.target.getAttribute("data-target");i=o,n=n.filter((t=>t.name!==i)),localStorage.setItem("myToDoLists",JSON.stringify(n)),t()}var i})),document.addEventListener("submit",(function(t){var o,a,r,s,l;t.target.classList.contains("newTaskForm")&&(t.preventDefault(),o=t.target.parentNode.getAttribute("data-index"),a=t.target.elements.title.value,r=t.target.elements.description.value,s=t.target.elements.priority.value,l=t.target.elements.dueDate.value,n[o].taskList.push(new i(a,r,s,l)),localStorage.setItem("myToDoLists",JSON.stringify(n)),e(n[o]))})),document.addEventListener("click",(function(t){if(t.target.classList.contains("editTask")){t.preventDefault();let d=t.target.closest("form");t.target.hasAttribute("active")?(i=t.target.getAttribute("data-projectIndex"),o=t.target.getAttribute("data-taskIndex"),a=d.elements.title.value,r=d.elements.description.value,s=d.elements.priority.value,l=d.elements.dueDate.value,console.log(n[i].taskList[o]),Object.assign(n[i].taskList[o],{title:a,description:r,priority:s,dueDate:l}),localStorage.setItem("myToDoLists",JSON.stringify(n)),e(n[i]),t.target.textContent="Edit Task"):t.target.textContent="Save changes",function(t){for(var e=t.querySelectorAll("input,select,textarea"),i=0;i<e.length;i++)e[i].disabled=!e[i].disabled,e[i].classList.toggle("form-control-plaintext"),e[i].classList.toggle("form-control")}(d),t.target.toggleAttribute("active")}var i,o,a,r,s,l})),null===localStorage.getItem("myToDoLists")?o("My First List"):t()})();