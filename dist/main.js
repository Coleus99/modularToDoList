(()=>{"use strict";let t=function(){let t=document.querySelector(".projectsWrapper");t.innerHTML="",s.forEach((e=>{let n=document.createElement("div");n.classList.add("project","card","my-2"),n.innerHTML=`\n            <div class="card-header d-flex justify-content-between">\n                <span>${e.name}</span>\n                <button type="button" class="close" aria-label="Close">\n                    <span class="closeProject" data-target="${e.name}" aria-hidden="true">&times;</span>\n                </button>\n            </div>\n            <ul class="list-group list-group-flush" id="${e.name}">\n                <p>No tasks yet! Add one below</p>\n            </ul>\n            <button class="addTask">Add Task</button>\n        `,t.appendChild(n)}))},e=function(t){console.log(t);let e=document.getElementById(t.name);e.innerHTML="",t.taskList.forEach((t=>{let n=document.createElement("li");n.classList.add("list-group-item"),n.setAttribute("priority",t.priority),n.setAttribute("completed",t.completed),n.innerHTML=`\n            <input class="form-check-input m-0 position-static" type="checkbox" value="" id="defaultCheck1">\n            <b>${t.title}</b>\n            <span class="description">${t.description}</span>\n            <span>ðŸ•¢${t.dueDate}</span>\n        `,e.appendChild(n)}))};function n(t,e,n,s){this.title=t,this.description=e,this.priority=n,this.dueDate=s,this.completed=!1,this.amend=function(t,e,n,s){this.title=t,this.description=e,this.priority=n,this.dueDate=s},this.toggleComplete=function(){this.completed=!this.completed}}let s=JSON.parse(sessionStorage.getItem("myToDoLists"))||[];function i(e){s.push(new o(e)),sessionStorage.setItem("myToDoLists",JSON.stringify(s)),t()}function o(t){this.name=t,this.taskList=[],this.addTask=function(t,s,i,o){this.taskList.push(new n(t,s,i,o)),e(this)},this.deleteTask=function(t){let n=this.taskList.findIndex((e=>e.title===t));this.taskList.splice(n,1),e(this)}}(function(){let t=document.querySelector("body"),e=document.createElement("div");e.classList.add("container","mt-5");let n=document.createElement("div");n.classList.add("projectsWrapper");let s=document.createElement("h1");s.textContent="Modular To Do List";let i=document.createElement("form");i.classList.add("form-inline"),i.setAttribute("id","newProjectForm"),i.innerHTML='\n        <div class="form-group mb-2 mr-2">\n            <input type="text" class="form-control" placeholder="Enter new list name">\n        </div>\n        <button type="submit" class="btn btn-primary mb-2">Add List</button>\n    ',e.appendChild(s),e.appendChild(n),e.appendChild(i),t.appendChild(e)})(),document.addEventListener("submit",(function(t){"newProjectForm"===t.target.id&&(t.preventDefault(),i(t.target[0].value),t.target[0].value="")})),document.addEventListener("click",(function(e){if(e.target.classList.contains("closeProject")){console.log(e.target.getAttribute("data-target")),console.log(e.target.parentNode.id);let i=e.target.getAttribute("data-target");n=i,s=s.filter((t=>t.name!==n)),sessionStorage.setItem("myToDoLists",JSON.stringify(s)),t()}var n})),null===sessionStorage.getItem("myToDoLists")?i("My First List"):t()})();